# Hades Coturn Server Environment Configuration
# Copy this file and modify values for your deployment

# =============================================
# BASIC SERVER CONFIGURATION
# =============================================

# Domain and realm for TURN server (should match your certificate)
TURN_DOMAIN=coturn.dybng.no
TURN_REALM=coturn.dybng.no

# TURN authentication secret (MUST match backend .env TURN_SECRET)
TURN_SECRET=test-secret-key

# External IP address of the server (auto-detection if not set)
# For remote deployment, set this to your server's public IP
EXTERNAL_IP=

# Port range for relay connections
MIN_PORT=49152
MAX_PORT=49999

# TTL for TURN credentials in seconds (20 minutes default)
TURN_TTL_SECONDS=1200

# =============================================
# SSL/TLS CONFIGURATION
# =============================================

# SSL certificate paths (Let's Encrypt)
TLS_CERT_PATH=/etc/letsencrypt/live/coturn.dybng.no/fullchain.pem
TLS_KEY_PATH=/etc/letsencrypt/live/coturn.dybng.no/privkey.pem

# Alternative certificate paths (uncomment if using different location)
# TLS_CERT_PATH=/certs/fullchain.pem
# TLS_KEY_PATH=/certs/privkey.pem

# =============================================
# NETWORK CONFIGURATION
# =============================================

# Listening IP (0.0.0.0 for all interfaces)
LISTEN_IP=0.0.0.0

# =============================================
# PERFORMANCE TUNING
# =============================================

# Maximum bandwidth per peer (10 Mbps for gaming)
BANDWIDTH_LIMIT_PER_PEER_KBPS=10000

# Maximum concurrent allocations
TOTAL_QUOTA=1000

# Maximum allocation lifetime (1 hour)
MAX_ALLOCATE_LIFETIME=3600

# =============================================
# LOGGING
# =============================================

# Log level (verbose for debugging, normal for production)
LOG_LEVEL=verbose

# Log file location
LOG_FILE=/var/log/coturn/coturn.log

# =============================================
# SECURITY SETTINGS
# =============================================

# Enable secure STUN (require authentication)
SECURE_STUN=true

# Enable fingerprint for WebRTC compatibility
FINGERPRINT=true

# =============================================
# PRODUCTION SETTINGS
# =============================================

# Disable CLI for security
NO_CLI=true

# Disable web admin interface for security
NO_WEB_ADMIN=true

# Enable Prometheus metrics (optional)
PROMETHEUS=true
PROMETHEUS_PORT=9641

# =============================================
# DEVELOPMENT OVERRIDES
# =============================================

# For local development, you might want to:
# - Use a different domain
# - Disable TLS for testing
# - Use lower port ranges

# Example development settings:
# TURN_DOMAIN=localhost
# TURN_REALM=localhost
# EXTERNAL_IP=127.0.0.1
# MIN_PORT=10000
# MAX_PORT=11000
